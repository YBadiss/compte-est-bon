<!doctype html>
<html>
  <head>
    <title>This is the title of the webpage!</title>
  </head>
  <body>
    <p>Use: <div id="selectedValues"></div></p>
    <p>Target: <div id="targetValue"></div></p>
    <p>Solution: <div id="solution"></div></p>
    <script>
function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}
let values = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 25, 50, 75, 100];

let selectedValues = [];
while (selectedValues.length < 6) {
  let selectedIndex = getRandomInt(values.length);
  selectedValues.push(values.splice(selectedIndex, 1)[0]);
}
let targetValue = getRandomInt(900) + 100;
let nextTargetStep = 1;
let nextTargetDirection = -1;

document.getElementById("selectedValues").textContent = selectedValues.join();
document.getElementById("targetValue").textContent = targetValue;
document.getElementById("solution").innerHTML = "";

var worker = new Worker('worker.js');
worker.onmessage = function(e) {
  let solution = e.data;
  let solutionText = !!solution ? solution.join("<br/>") : `No solution for ${targetValue}!`;
  document.getElementById("solution").innerHTML = document.getElementById("solution").innerHTML + "<br/>" + solutionText;

  if (!solution) {
    targetValue = targetValue + (nextTargetStep * nextTargetDirection);
    nextTargetStep = nextTargetStep + 1;
    nextTargetDirection = nextTargetDirection * -1;
    worker.postMessage(selectedValues.concat([targetValue]))
  }
};

worker.postMessage(selectedValues.concat([targetValue]));
    </script>
  </body>
</html>
